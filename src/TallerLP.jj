PARSER_BEGIN(TallerLP)import java.io.BufferedReader;import java.io.FileReader;import java.io.IOException;import java.util.StringTokenizer;import moneda.moneda;
public class TallerLP{    public static void ReadFile2(String nameFile, moneda[] monedas) throws IOException {        String fullLine = " ";        String palabra[];        FileReader fr = new FileReader(nameFile);        BufferedReader bf = new BufferedReader(fr);        String line = bf.readLine();        int i = 0;        int valormult;        int valorvariacion;        int valorfinal;        int valorsumad = 0;        int valorsumap = 0;        while(line != null) {                palabra = line.split(",");                                if(palabra[0].equals("Dia1")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia1")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 1 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia2")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia2")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 2 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia3")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia3")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 3 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia4")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia4")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 4 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia5")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia5")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 5 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia6")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia6")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 6 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                if(palabra[0].equals("Dia7")) {                	for(i=0; i<monedas.length ; i++){                	    if(monedas[i].getDia().equals("Dia7")) {                	     if(!monedas[i].getConversion().equals("directo")) {                	    	valorvariacion = Integer.parseInt(palabra[1]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValordolar() != 0) {                	    	valorfinal = monedas[i].getValordolar() + valormult;                	    	valorsumad = valorsumad + valorfinal;                	    	monedas[i].setValordolar(valorfinal);                	    	}                	    	                	    	                	    	valorvariacion = Integer.parseInt(palabra[2]);                	    	valormult = valorvariacion * monedas[i].getValor();                	    	if(monedas[i].getValorpeso() != 0) {                	    	valorfinal = monedas[i].getValorpeso() + valormult;                	    	valorsumap = valorsumap + valorfinal;                	    	monedas[i].setValorpeso(valorfinal);                	    	}                	    	                	    	                	    	                	    }else {                	    	valorsumad = valorsumad + monedas[i].getValordolar();                	    	valorsumap = valorsumap + monedas[i].getValorpeso();                	    }                	                     	                     	   }                	                    	}                	System.out.println("En el Dia 7 se ganaron "+valorsumad+" Dolares y " +valorsumap+" Pesos");                	valorsumad = 0;           	     valorsumap = 0;                }                                                                                fullLine += line;                line = bf.readLine();                          }          }	        public static void ReadFile(String nameFile, moneda[] monedas) throws IOException {                String fullLine = " ";                String palabra[];                FileReader fr = new FileReader(nameFile);                BufferedReader bf = new BufferedReader(fr);                String line = bf.readLine();                int i;                int valorpesoconv;                int valorpeso;                int valor;                while(line != null) {                        palabra = line.split(",");                        //System.out.println(palabra[0] + "as");                        if(palabra[0].equals("bitcoin")) {                        	for(i=0; i<monedas.length ; i++){                        	    if(monedas[i].getMoneda().equals("bitcoin")) {                        	    	if(monedas[i].getConversion().equals("peso")) {                        	    		valorpesoconv = Integer.parseInt(palabra[2]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValorpeso(valorpeso);                            	    	                            	    }else if(monedas[i].getConversion().equals("dolar")) {                        	    		valorpesoconv = Integer.parseInt(palabra[1]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValordolar(valorpeso);;                            	    	                            	    }                        	    }                        	                            	}                        }                                                if(palabra[0].equals("peercoin")) {                        	for(i=0; i<monedas.length ; i++){                        	    if(monedas[i].getMoneda().equals("peercoin")) {                        	    	if(monedas[i].getConversion().equals("peso")) {                        	    		valorpesoconv = Integer.parseInt(palabra[2]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValorpeso(valorpeso);                            	    	                            	    }else if(monedas[i].getConversion().equals("dolar")) {                        	    		valorpesoconv = Integer.parseInt(palabra[1]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValordolar(valorpeso);;                            	    	                            	    }                        	    }                        	                            	}                        }                                                if(palabra[0].equals("ripple")) {                        	for(i=0; i<monedas.length ; i++){                        	    if(monedas[i].getMoneda().equals("ripple")) {                        	    	if(monedas[i].getConversion().equals("peso")) {                        	    		valorpesoconv = Integer.parseInt(palabra[2]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValorpeso(valorpeso);                            	    	                            	    }else if(monedas[i].getConversion().equals("dolar")) {                        	    		valorpesoconv = Integer.parseInt(palabra[1]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValordolar(valorpeso);;                            	    	                            	    }                        	    }                        	                            	}                        }                                                if(palabra[0].equals("litecoin")) {                        	for(i=0; i<monedas.length ; i++){                        	    if(monedas[i].getMoneda().equals("litecoin")) {                        	    	if(monedas[i].getConversion().equals("peso")) {                        	    		valorpesoconv = Integer.parseInt(palabra[2]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValorpeso(valorpeso);                            	    	                            	    }else if(monedas[i].getConversion().equals("dolar")) {                        	    		valorpesoconv = Integer.parseInt(palabra[1]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValordolar(valorpeso);;                            	    	                            	    }                        	    }                        	                            	}                        }                                                if(palabra[0].equals("dogecoin")) {                        	for(i=0; i<monedas.length ; i++){                        	    if(monedas[i].getMoneda().equals("dogecoin")) {                        	    	if(monedas[i].getConversion().equals("peso")) {                        	    		valorpesoconv = Integer.parseInt(palabra[2]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValorpeso(valorpeso);                            	    	                            	    }else if(monedas[i].getConversion().equals("dolar")) {                        	    		valorpesoconv = Integer.parseInt(palabra[1]);                        	    		valor = monedas[i].getValor();                        	    		valorpeso = valor * valorpesoconv;                        	    		monedas[i].setValordolar(valorpeso);;                            	    	                            	    }                        	    }                        	                            	}                        }                                                                                                fullLine += line;                        line = bf.readLine();                                          }                ReadFile2("Variaciones.txt", monedas);          }  public static void main(String args []) throws IOException  {    String LineaEntera = " ";    String conversion = "";    String moneda = "";    int valor = 0;    char conv = 10;    String dia = "";    String s[];    moneda monedas[] = new moneda[9];    moneda objMoneda;    int valorInt;    int i = 0;    int totalMonedas [] = new int [7];    FileReader f = new FileReader("Registros.txt");                BufferedReader bf = new BufferedReader(f);            String Linea = bf.readLine();            //System.out.println(Linea);            while(Linea != null) {              //System.out.println(Linea);              objMoneda = new moneda();              conv = Linea.charAt(3);              //System.out.println(conv);              conversion = String.valueOf(conv);              //System.out.println(conversion + "conversion");              if(conversion.equals("[")) {                  objMoneda.setConversion("peso");              }else if(conversion.equals("{")) {                  objMoneda.setConversion("dolar");              }else {                  objMoneda.setConversion("directo");              }              s = Linea.split("\u005c\u005c]\u005c\u005c[|\u005c\u005c]|\u005c\u005c[|\u005c\u005c)\u005c\u005c(|\u005c\u005c(|\u005c\u005c)|\u005c\u005c}\u005c\u005c{|\u005c\u005c{|\u005c\u005c}");				//System.out.println(s[0]);				//System.out.println(s[1]);				//System.out.println(s[2]);				//System.out.println(s[3]);              valorInt = Integer.parseInt(s[2]);              //System.out.println(valorInt);              objMoneda.setMoneda(s[1]);              //System.out.println(s[1]);              			  if(s[1].equals("bitcoin")) {			  	//objMoneda.setTotalMoneda(valorInt);			  	//System.out.println(valorInt);			  	//totalMonedas[0] = 0;			  					totalMonedas[0] = totalMonedas[0] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[0]);							  	//System.out.println(objMoneda.getTotalMoneda());			  }			  if(s[1].equals("peercoin")) {			  	//objMoneda.setTotalMoneda(valorInt);			  	//System.out.println(objMoneda.getTotalMoneda());				totalMonedas[1] = totalMonedas[1] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[1]);			  				  }			  if(s[1].equals("ripple")) {				totalMonedas[2] = totalMonedas[2] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[2]);			  	//objMoneda.setTotalMoneda(valorInt);			  	//System.out.println(objMoneda.getTotalMoneda());			  }			  if(s[1].equals("litecoin")) {			    totalMonedas[3] = totalMonedas[3] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[3]);			  	//objMoneda.setTotalMoneda(valorInt);			  	//System.out.println(objMoneda.getTotalMoneda());			  }			  if(s[1].equals("dogecoin")) {			    totalMonedas[4] = totalMonedas[4] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[4]);			  	//objMoneda.setTotalMoneda(valorInt);			  	//System.out.println(objMoneda.getTotalMoneda());			  }			  //System.out.println(objMoneda.getTotalMoneda());                            if(s[1].equals("pesos")) {                //System.out.println(valorInt);            	  objMoneda.setValorpeso(valorInt);				totalMonedas[5] = totalMonedas[5] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[5]);            	                }else if(s[1].equals("dolar")) {				totalMonedas[6] = totalMonedas[6] + Integer.parseInt(s[2]);				//System.out.println(totalMonedas[6]);                            	  objMoneda.setValordolar(valorInt);              }              objMoneda.setValor(valorInt);              objMoneda.setDia(s[3]);              //System.out.println(s[3]);              monedas[i] = objMoneda;			  //System.out.println(monedas[i]);                            i++;              LineaEntera += Linea;              Linea = bf.readLine();            }                 f.close();                        try{                                new TallerLP(new java.io.StringReader(LineaEntera)).S();                                System.out.println("La sintaxis es CORRECTA");                        }catch(Throwable e){                                System.out.println("Hay un ERROR en la sintaxis: "+ e.getMessage());                        }                ReadFile("Conversiones.txt", monedas);			for (int k = 0 ; k < 7 ; k++) {				System.out.println(totalMonedas[k]);			  }                  }  }PARSER_END(TallerLP)/* Reglas Lexicas */SKIP:  { " " | "\t" | "\n" | "\r"  }TOKEN: {	<MONEDAVIRTUAL: ("bitcoin" | "peercoin" | "ripple" | "litecoin" | "dogecoin") > | 	<MONEDA: ("dolar" | "pesos")> |	<NUMBER: (["0" - "9"])+ > |	<DIA: ("Dia1" | "Dia2" | "Dia3" | "Dia4" | "Dia5" | "Dia6" | "Dia7")>}/* Reglas Sintácticas*/void S(): {} { Peso() (S())* < EOF > }void Peso(): {} { Peso1() | Peso2() | Peso3() | Peso4() | Peso5() | Peso6() } void Peso1(): {} { "alt{"MONEDAVIRTUAL()"}""{"NUMBER()"}""{"DIA()"}"  }void Peso2(): { } { "alt["MONEDAVIRTUAL()"]""["NUMBER()"]""["DIA()"]"  }void Peso3(): { } { "alt("MONEDAVIRTUAL()")""("NUMBER()")""("DIA()")"  }void Peso4(): { } {"{"MONEDA()"}""{"NUMBER()"}""{"DIA()"}" }void Peso5(): { } {"["MONEDA()"]""["NUMBER()"]""["DIA()"]"  }void Peso6(): { } {"("MONEDA()")""("NUMBER()")""("DIA()")"  }void MONEDAVIRTUAL(): {} {<MONEDAVIRTUAL>}void MONEDA(): {} {<MONEDA>}void NUMBER(): {} {<NUMBER>}void DIA(): {} {<DIA>}
